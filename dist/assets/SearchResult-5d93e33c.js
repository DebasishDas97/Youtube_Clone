import{a as t,L as f,j as s,r as h,d as p,C as u,f as d}from"./index-a7ad1c39.js";import{F as i,d as o,L as w}from"./moment-1a227b2b.js";import{V as N}from"./videoLength-0b2327b6.js";import"./index.esm-c319c867.js";const g=({video:l})=>{var n,a,c,m,e,r,x;return t(f,{to:`/video/${l==null?void 0:l.videoId}`,children:s("div",{className:"flex flex-col md:flex-row mb-8 md:mb-3 lg:hover:bg-white/[0.1] rounded-xl md:p-4",children:[s("div",{className:"relative flex shrink-0 h-48 md:h-28 lg:h-40 xl:h-48 w-full md:w-48 lg:w-64 xl:w-80 rounded-xl bg-slate-800 overflow-hidden",children:[t("img",{className:"h-full w-full object-cover",src:(n=l==null?void 0:l.thumbnails[0])==null?void 0:n.url}),(l==null?void 0:l.lengthSeconds)&&t(N,{time:l==null?void 0:l.lengthSeconds})]}),s("div",{className:"flex flex-col ml-4 md:ml-6 mt-4 md:mt-0 overflow-hidden",children:[t("span",{className:"text-lg md:text-2xl font-semibold line-clamp-2 text-white",children:l==null?void 0:l.title}),t("span",{className:"empty:hidden text-sm line-clamp-1 md:line-clamp-2 text-white/[0.7] md:pr-24 md:my-4",children:l==null?void 0:l.descriptionSnippet}),s("div",{className:"hidden md:flex items-center",children:[t("div",{className:"flex items-start mr-3",children:t("div",{className:"flex h-9 w-9 rounded-full overflow-hidden",children:t("img",{className:"h-full w-full object-cover",src:(c=(a=l==null?void 0:l.author)==null?void 0:a.avatar[0])==null?void 0:c.url})})}),s("div",{className:"flex flex-col",children:[s("span",{className:"text-sm font-semibold mt-2 text-white/[0.7] flex items-center",children:[(m=l==null?void 0:l.author)==null?void 0:m.title,((r=(e=l==null?void 0:l.author)==null?void 0:e.badges[0])==null?void 0:r.type)==="VERIFIED_CHANNEL"&&t(i,{className:"text-white/[0.5] text-[12px] lg:text-[10px] xl:text-[12px] ml-1"})]}),s("div",{className:"flex text-sm font-semibold text-white/[0.7] truncate overflow-hidden",children:[t("span",{children:`${o.abbreviateNumber((x=l==null?void 0:l.stats)==null?void 0:x.views,2)} views`}),t("span",{className:"flex text-[24px] leading-none font-bold text-white/[0.7] relative top-[-10px] mx-1",children:"."}),t("span",{className:"truncate",children:l==null?void 0:l.publishedTimeText})]})]})]})]})]})})},E=()=>{const[l,n]=h.useState(),{searchQuery:a}=p(),{setLoading:c}=h.useContext(u);h.useEffect(()=>{document.getElementById("root").classList.remove("custom-h"),m()},[a]);const m=()=>{c(!0),d(`search/?q=${a}`).then(e=>{console.log(e),n(e==null?void 0:e.contents),c(!1)})};return s("div",{className:"flex flex-row h-[calc(100%-56px)]",children:[t(w,{}),t("div",{className:"grow w-[calc(100%-240px)] h-full overflow-y-auto bg-black",children:t("div",{className:"grid grid-cols-1 gap-2 p-5",children:l==null?void 0:l.map(e=>{if((e==null?void 0:e.type)!=="video")return!1;let r=e.video;return t(g,{video:r},r.videoId)})})})]})};export{E as default};
